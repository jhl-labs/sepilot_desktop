# SEPilot Desktop v0.7.5 ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸

**ë¦´ë¦¬ì¦ˆ ë‚ ì§œ**: 2026-01-07

---

## âœ¨ ì£¼ìš” ê°œì„ ì‚¬í•­

### ğŸš€ Editor Agent Cursor/Cline ìˆ˜ì¤€ ê³ ë„í™”

Editor Agentë¥¼ Cursor, Cline, Roo Code ìˆ˜ì¤€ì˜ ê³ ê¸‰ AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ë¡œ ëŒ€í­ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

**ì¶”ê°€ëœ í•µì‹¬ ê¸°ëŠ¥:**

#### 1. MCP (Model Context Protocol) Tools í†µí•©

ì™¸ë¶€ ë„êµ¬ì™€ì˜ í†µí•©ì„ í†µí•´ Editor Agentì˜ ëŠ¥ë ¥ì„ ëŒ€í­ í™•ì¥í–ˆìŠµë‹ˆë‹¤.

- **MCP Tools ì§€ì›**: GitHub, Filesystem, Brave Search ë“± ë‹¤ì–‘í•œ ì™¸ë¶€ ë„êµ¬ ì‚¬ìš© ê°€ëŠ¥
- **ë™ì  ë„êµ¬ ê²€ìƒ‰**: ëª¨ë“  MCP ì„œë²„ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ë¥¼ ìë™ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ì‹¤í–‰
- **ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”**: MCP ë„êµ¬ ì‹¤í–‰ ì‹¤íŒ¨ ì‹œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ

```typescript
// Editor Agentì—ì„œ MCP Tools ì‚¬ìš© ì˜ˆì‹œ
// GitHub repository ê²€ìƒ‰, ì›¹ ê²€ìƒ‰, íŒŒì¼ ì‹œìŠ¤í…œ ì‘ì—… ë“±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤
const graphConfig = {
  thinkingMode: 'editor-agent' as const,
  enableRAG: true, // RAG í™œì„±í™”
  enableTools: true, // Built-in Editor Tools í™œì„±í™”
  enableMCPTools: true, // MCP Tools í™œì„±í™” â­ NEW
};
```

#### 2. File Tracking & Rollback ì‹œìŠ¤í…œ

íŒŒì¼ ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ì¶”ì í•˜ì—¬ ì•ˆì „í•œ ì½”ë“œ ìˆ˜ì •ì„ ë³´ì¥í•©ë‹ˆë‹¤.

- **ë³€ê²½ ì „/í›„ ì¶”ì **: íŒŒì¼ ìˆ˜ì • ì „í›„ ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ê¸°ë¡
- **ë¡¤ë°± í¬ì¸íŠ¸ ìƒì„±**: ê° iterationë§ˆë‹¤ ë¡¤ë°± í¬ì¸íŠ¸ ìƒì„±ìœ¼ë¡œ ì–¸ì œë“  ì´ì „ ìƒíƒœë¡œ ë³µêµ¬ ê°€ëŠ¥
- **ë³€ê²½ ì´ë ¥ ê´€ë¦¬**: ì–´ë–¤ íŒŒì¼ì´ ì–¸ì œ ì–´ë–»ê²Œ ë³€ê²½ë˜ì—ˆëŠ”ì§€ ì¶”ì 

**êµ¬í˜„ í´ë˜ìŠ¤:**

- `FileTracker`: íŒŒì¼ ë³€ê²½ ì¶”ì  ë° ë¡¤ë°± ê´€ë¦¬
- `trackBeforeModify()`: íŒŒì¼ ìˆ˜ì • ì „ ìŠ¤ëƒ…ìƒ· ì €ì¥
- `trackAfterModify()`: íŒŒì¼ ìˆ˜ì • í›„ ìƒíƒœ ê¸°ë¡
- `createRollbackPoint()`: ë³µêµ¬ í¬ì¸íŠ¸ ìƒì„±

#### 3. Error Recovery & Retry ì‹œìŠ¤í…œ

ë„êµ¬ ì‹¤í–‰ ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ì¬ì‹œë„í•˜ì—¬ ì•ˆì •ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

- **ìë™ ì¬ì‹œë„**: ì¼ì‹œì  ì˜¤ë¥˜ ë°œìƒ ì‹œ ìµœëŒ€ 2íšŒ ìë™ ì¬ì‹œë„
- **íƒ€ì„ì•„ì›ƒ ê´€ë¦¬**: ê° ë„êµ¬ ì‹¤í–‰ì— ì ì ˆí•œ íƒ€ì„ì•„ì›ƒ ì„¤ì • (Built-in: 30ì´ˆ, MCP: 60ì´ˆ)
- **ì§€ìˆ˜ ë°±ì˜¤í”„**: ì¬ì‹œë„ ê°„ ëŒ€ê¸° ì‹œê°„ì„ ì ì§„ì ìœ¼ë¡œ ì¦ê°€ì‹œì¼œ ì„œë²„ ë¶€í•˜ ë°©ì§€

```typescript
// Error Recovery ì ìš© ì˜ˆì‹œ
const result = await ErrorRecovery.withTimeoutAndRetry(
  () => executeBuiltinTool(toolCall.name, toolCall.arguments),
  30000, // 30 second timeout
  { maxRetries: 2, initialDelayMs: 1000 },
  `tool '${toolCall.name}'`
);
```

#### 4. Advanced State Management

CodingAgentStateë¥¼ ê¸°ë°˜ìœ¼ë¡œ í™•ì¥í•˜ì—¬ ê³ ê¸‰ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.

- **CodingAgentState í™•ì¥**: Editor Agentê°€ Coding Agentì˜ ëª¨ë“  ê¸°ëŠ¥ í™œìš© ê°€ëŠ¥
- **Planning ì§€ì›**: ë³µì¡í•œ ì‘ì—…ì„ ë‹¨ê³„ë³„ë¡œ ê³„íší•˜ê³  ì‹¤í–‰ (í–¥í›„ ì™„ì „ êµ¬í˜„ ì˜ˆì •)
- **Verification ì§€ì›**: ì½”ë“œ ë³€ê²½ í›„ ìë™ ê²€ì¦ (í–¥í›„ ì™„ì „ êµ¬í˜„ ì˜ˆì •)
- **Context Management**: 100k í† í° ê´€ë¦¬ ì‹œìŠ¤í…œ í†µí•© ì¤€ë¹„

#### 5. RAG (Retrieval-Augmented Generation) í™œì„±í™”

í”„ë¡œì íŠ¸ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë” ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.

- **ë¬¸ì„œ ê²€ìƒ‰**: ë²¡í„° DBì—ì„œ ê´€ë ¨ ë¬¸ì„œ ìë™ ê²€ìƒ‰
- **ì»¨í…ìŠ¤íŠ¸ ê°•í™”**: ê²€ìƒ‰ëœ ë¬¸ì„œë¥¼ í”„ë¡¬í”„íŠ¸ì— í¬í•¨í•˜ì—¬ ì •í™•ë„ í–¥ìƒ
- **ì—ëŸ¬ í•¸ë“¤ë§**: RAG ì‹¤íŒ¨ ì‹œì—ë„ ìì²´ ì§€ì‹ìœ¼ë¡œ ê³„ì† ì§„í–‰

---

## ğŸ” ë³´ì•ˆ ë° ì•ˆì •ì„± ê°œì„ 

### components/ ë””ë ‰í† ë¦¬ ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§

í”„ë¡œë•ì…˜ í™˜ê²½ì„ ìœ„í•œ ë³´ì•ˆ, ì•ˆì •ì„±, UX ê°œì„  ì‘ì—…ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.

#### 1. XSS ì·¨ì•½ì  ìˆ˜ì •

**ë¬¸ì œ**: `dangerouslySetInnerHTML` ì‚¬ìš© ì‹œ XSS ê³µê²© ìœ„í—˜

**í•´ê²°ì±…**:

- DOMPurify íŒ¨í‚¤ì§€ ì¶”ê°€í•˜ì—¬ ëª¨ë“  HTML ì½˜í…ì¸  sanitize
- ì ìš© íŒŒì¼:
  - `components/markdown/MermaidDiagram.tsx`: SVG ë Œë”ë§ ì‹œ sanitize ì ìš©
  - `components/settings/QuickInputSettingsTab.tsx`: i18n ë²ˆì—­ í…ìŠ¤íŠ¸ sanitize

```typescript
// Before
<div dangerouslySetInnerHTML={{ __html: svgCode }} />

// After
const sanitizedSvg = DOMPurify.sanitize(svgCode, {
  USE_PROFILES: { svg: true, svgFilters: true },
});
<div dangerouslySetInnerHTML={{ __html: sanitizedSvg }} />
```

#### 2. Error Boundary ì¶”ê°€

**ë¬¸ì œ**: ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì—ëŸ¬ ì‹œ ì•± ì „ì²´ í¬ë˜ì‹œ

**í•´ê²°ì±…**:

- `ErrorBoundary` ì»´í¬ë„ŒíŠ¸ ìƒì„±
- ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì— Error Boundary ì ìš©:
  - `MarkdownRenderer`: Mermaid/Plotly ì°¨íŠ¸ ë Œë”ë§ ì‹¤íŒ¨ ì‹œ í´ë°±
  - `ChatContainer`, `BrowserChatContainer`, `EditorChatContainer`: UnifiedChatArea ì—ëŸ¬ ê²©ë¦¬

```typescript
<ErrorBoundary fallback={<CodeBlock language="mermaid" code={codeText} />}>
  <MermaidDiagram chart={codeText} />
</ErrorBoundary>
```

#### 3. UX ê°œì„  - Toast ì•Œë¦¼ ì‹œìŠ¤í…œ

**ë¬¸ì œ**: `window.alert` ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ UX ì €í•˜

**í•´ê²°ì±…**:

- Sonner toast ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
- ëª¨ë“  `window.alert`ë¥¼ toastë¡œ ì „í™˜ (10ê°œ íŒŒì¼, ì´ 12íšŒ)
- ì ìš© íŒŒì¼:
  - `components/chat/unified/UnifiedChatArea.tsx`
  - `components/chat/ChatArea.tsx`
  - `components/settings/QuickInputSettingsTab.tsx`
  - `components/settings/ConnectionManager.tsx`
  - `components/persona/PersonaDialog.tsx`

```typescript
// Before
window.alert('ë©”ì‹œì§€ê°€ Documentë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');

// After
toast.success('ë©”ì‹œì§€ê°€ Documentë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
```

#### 4. ë¡œê¹… ì‹œìŠ¤í…œ ê°œì„ 

**ë¬¸ì œ**: í”„ë¡œë•ì…˜ ì½”ë“œì— `console.log` ë‚¨ì•„ìˆìŒ (217íšŒ)

**í•´ê²°ì±…**:

- ì£¼ìš” íŒŒì¼ì˜ `console.log/error`ë¥¼ `logger` ìœ í‹¸ë¦¬í‹°ë¡œ ì „í™˜
- ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë¡œê·¸ ì¶œë ¥í•˜ë„ë¡ ì„¤ì •
- ì ìš© íŒŒì¼:
  - `components/chat/ChatContainer.tsx`
  - `components/chat/unified/UnifiedChatArea.tsx`
  - `components/markdown/MermaidDiagram.tsx`

```typescript
// Before
console.error('[ChatContainer] Failed to abort stream:', error);

// After
logger.error('[ChatContainer] Failed to abort stream:', error);
```

---

## ğŸ”§ ê¸°ìˆ ì  ê°œì„ 

### ì•„í‚¤í…ì²˜ ë³€ê²½ì‚¬í•­

**1. EditorAgentState í™•ì¥** (`extensions/editor/agents/editor-agent-advanced.ts`)

```typescript
// Before
export interface EditorAgentState extends AgentState {
  editorContext?: { ... };
}

// After
export interface EditorAgentState extends CodingAgentState {
  editorContext?: {
    // ... ê¸°ì¡´ í•„ë“œë“¤ ...
    enableMCPTools?: boolean;      // â­ NEW
    enablePlanning?: boolean;      // â­ NEW
    enableVerification?: boolean;  // â­ NEW
  };
}
```

**2. ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ í†µí•©**

CodingAgentì—ì„œ ê²€ì¦ëœ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë“¤ì„ Editor Agentì— í†µí•©:

```typescript
// Static utility instances (shared across all instances)
private static toolSelector = new ToolSelector();
private static fileTracker = new FileTracker();
private static contextManager = new ContextManager(100000); // 100k tokens
private static codebaseAnalyzer = new CodebaseAnalyzer();
```

**3. executeTool ë©”ì„œë“œ ê³ ë„í™”**

```typescript
private async executeTool(toolCall: ToolCall, state: EditorAgentState): Promise<any> {
  // 1. Built-in Editor Tools (ê¸°ì¡´)
  if (builtinTools.includes(name)) {
    // File tracking for write/edit operations
    await FileTracker.trackBeforeModify(filePath);

    // Execute with error recovery & timeout
    const result = await ErrorRecovery.withTimeoutAndRetry(...);

    await FileTracker.trackAfterModify(filePath);
    return result;
  }

  // 2. MCP Tools (ì‹ ê·œ)
  if (state.editorContext?.enableMCPTools) {
    const allTools = await MCPServerManager.getAllTools();
    const toolInfo = allTools.find((t) => t.name === name);
    const mcpResult = await MCPServerManager.callTool(
      toolInfo.serverName,
      name,
      args
    );
    return mcpResult;
  }
}
```

**4. GraphFactory ì„¤ì • ì „ë‹¬** (`lib/langgraph/index.ts`)

```typescript
// Inject Editor Context with advanced features
(initialState as any).editorContext = {
  ...(initialState as any).editorContext,
  // Advanced features (Cursor/Cline ìˆ˜ì¤€)
  useRag: config.enableRAG || false,
  enableMCPTools: (config as any).enableMCPTools || false,
  enablePlanning: (config as any).enablePlanning || false,
  enableVerification: (config as any).enableVerification || false,
};
```

---

## ğŸ“¦ ë³€ê²½ëœ íŒŒì¼

### í•µì‹¬ íŒŒì¼

1. **`extensions/editor/agents/editor-agent-advanced.ts`**
   - EditorAgentStateë¥¼ CodingAgentState ê¸°ë°˜ìœ¼ë¡œ í™•ì¥
   - ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ (ToolSelector, FileTracker, ContextManager ë“±) import
   - executeToolì— MCP Tools + Error Recovery + File Tracking í†µí•©

2. **`extensions/editor/components/EditorChatInput.tsx`**
   - graphConfigì— enableMCPTools: true ì¶”ê°€
   - enableRAG: trueë¡œ ë³€ê²½ (ê¸°ì¡´ false)

3. **`lib/langgraph/index.ts`**
   - streamEditorAgentGraphì— enableMCPTools ì„¤ì • ì „ë‹¬
   - workingDirectory ì„¤ì • ì¶”ê°€

---

## ğŸ¯ ì‚¬ìš©ìì—ê²Œ ë¯¸ì¹˜ëŠ” ì˜í–¥

### Before (v0.7.4 ì´ì „)

```typescript
// Editor Agent ê¸°ë³¸ ê¸°ëŠ¥ë§Œ ì‚¬ìš© ê°€ëŠ¥
- íŒŒì¼ ì½ê¸°/ì“°ê¸°
- í„°ë¯¸ë„ ëª…ë ¹ ì‹¤í–‰
- Git ìƒíƒœ í™•ì¸
```

### After (v0.7.5)

```typescript
// Cursor/Cline ìˆ˜ì¤€ì˜ ê³ ê¸‰ ê¸°ëŠ¥
- âœ… MCP Tools (GitHub, Browser, Filesystem ë“± ì™¸ë¶€ ë„êµ¬)
- âœ… File Tracking & Rollback (ì•ˆì „í•œ íŒŒì¼ ìˆ˜ì •)
- âœ… Error Recovery (ìë™ ì¬ì‹œë„)
- âœ… RAG (í”„ë¡œì íŠ¸ ë¬¸ì„œ ê¸°ë°˜ ë‹µë³€)
- ğŸ”„ Planning Pipeline (í–¥í›„ ì™„ì „ êµ¬í˜„)
- ğŸ”„ Verification System (í–¥í›„ ì™„ì „ êµ¬í˜„)
- ğŸ”„ Context Management 100k (í–¥í›„ ì™„ì „ êµ¬í˜„)
```

---

## ğŸ”® í–¥í›„ ê³„íš

í˜„ì¬ ë²„ì „ì—ì„œëŠ” ê¸°ë³¸ ì¸í”„ë¼ê°€ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì€ í–¥í›„ ë²„ì „ì—ì„œ ì™„ì „íˆ êµ¬í˜„ë  ì˜ˆì •ì…ë‹ˆë‹¤:

1. **Planning Pipeline**: ë³µì¡í•œ ì‘ì—…ì„ ìë™ìœ¼ë¡œ ë‹¨ê³„ë³„ë¡œ ë¶„í•´í•˜ê³  ì‹¤í–‰
2. **Verification System**: ì½”ë“œ ë³€ê²½ í›„ ìë™ìœ¼ë¡œ íƒ€ì… ì²´í¬, ë¦°íŠ¸, í…ŒìŠ¤íŠ¸ ì‹¤í–‰
3. **Context Management**: 100k í† í° ê´€ë¦¬ë¡œ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ íš¨ìœ¨ì  ì²˜ë¦¬
4. **Progress Tracking UI**: ì§„í–‰ ìƒí™©, íŒŒì¼ ë³€ê²½ ë‚´ì—­, ê²€ì¦ ê²°ê³¼ ì‹¤ì‹œê°„ í‘œì‹œ

---

## ğŸ“ ì—…ê·¸ë ˆì´ë“œ ê°€ì´ë“œ

ë³„ë„ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì—…ì€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê¸°ì¡´ Editor Agent ì‚¬ìš©ë²•ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ë©°, ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì´ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤.

**MCP Tools ì‚¬ìš©ì„ ìœ„í•œ ì¤€ë¹„:**

1. MCP Server ì„¤ì • (Settings > MCP Servers)
2. GitHub, Brave Search ë“± ì›í•˜ëŠ” MCP ì„œë²„ ì¶”ê°€
3. Editor Agentì—ì„œ ìë™ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥

---

## ğŸ› ì•Œë ¤ì§„ ì œí•œì‚¬í•­

- MCP ToolsëŠ” ì²« í˜¸ì¶œ ì‹œ ì„œë²„ ëª©ë¡ì„ ê²€ìƒ‰í•˜ë¯€ë¡œ ì•½ê°„ì˜ ì§€ì—°ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- Planning ë° Verification ê¸°ëŠ¥ì€ ì•„ì§ ì™„ì „íˆ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤ (v0.7.6 ì˜ˆì •)
- ë§¤ìš° í° íŒŒì¼ (10MB+) ìˆ˜ì • ì‹œ File Trackingì´ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## ğŸ‰ ë§ˆë¬´ë¦¬

v0.7.5ëŠ” Editor Agentë¥¼ Cursor/Cline ìˆ˜ì¤€ìœ¼ë¡œ ëŒì–´ì˜¬ë¦¬ê¸° ìœ„í•œ ì²« ë²ˆì§¸ major stepì…ë‹ˆë‹¤. MCP Tools í†µí•©, File Tracking, Error Recovery ë“± í•µì‹¬ ì¸í”„ë¼ê°€ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, í–¥í›„ ë²„ì „ì—ì„œ Planningê³¼ Verificationì„ ì™„ì „íˆ êµ¬í˜„í•˜ì—¬ ì§„ì •í•œ Cursor/Cline ìˆ˜ì¤€ì˜ AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ë  ê²ƒì…ë‹ˆë‹¤.

**ì£¼ìš” ì„±ê³¼:**

- âœ… MCP Protocol ì™„ì „ í†µí•©
- âœ… ì•ˆì „í•œ íŒŒì¼ ìˆ˜ì • ì‹œìŠ¤í…œ
- âœ… ìë™ ì—ëŸ¬ ë³µêµ¬
- âœ… CodingAgent ìˆ˜ì¤€ì˜ ì•„í‚¤í…ì²˜

**ë‹¤ìŒ ëª©í‘œ (v0.7.6):**

- âœ… Planning Pipeline ì™„ì „ êµ¬í˜„ (ì´ë¯¸ ì™„ë£Œ!)
- âœ… Verification System ì™„ì „ êµ¬í˜„ (ì´ë¯¸ ì™„ë£Œ!)
- ğŸ¯ Progress Tracking UI ì¶”ê°€
- ğŸ¯ Context Management 100k ìµœì í™”

**Update**: v0.7.5ì—ì„œ Planningê³¼ Verificationì´ ì´ë¯¸ êµ¬í˜„ë˜ì–´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!

ê°ì‚¬í•©ë‹ˆë‹¤! ğŸš€
