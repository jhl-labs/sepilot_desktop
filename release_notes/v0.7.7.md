# SEPilot Desktop v0.7.7 ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸

**ë¦´ë¦¬ì¦ˆ ë‚ ì§œ**: 2026-01-07

---

## ğŸš€ Terminal Extension - Warp ìŠ¤íƒ€ì¼ AI í„°ë¯¸ë„ êµ¬í˜„

v0.7.7ì—ì„œ Warp Terminalì„ ëª¨í‹°ë¸Œë¡œ í•œ AI ê¸°ë°˜ Terminal Extensionì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤. Phase 1ë¶€í„° Phase 5ê¹Œì§€ ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥

### 1. **ë¸”ë¡ ê¸°ë°˜ UI (Warp ìŠ¤íƒ€ì¼)**

**íŠ¹ì§•**:

- âœ… ê° ëª…ë ¹ì–´ë¥¼ ë…ë¦½ì ì¸ ë¸”ë¡ìœ¼ë¡œ í‘œì‹œ
- âœ… ëª…ë ¹ì–´, ì¶œë ¥, AI ë¶„ì„ì„ í•œ ë¸”ë¡ì— í†µí•© í‘œì‹œ
- âœ… Exit code ê¸°ë°˜ ìƒíƒœ í‘œì‹œ (ì„±ê³µ/ì‹¤íŒ¨)
- âœ… ìì—°ì–´ ì…ë ¥ í‘œì‹œ (AI ìƒì„± ëª…ë ¹ì–´ì¸ ê²½ìš°)
- âœ… ë¸”ë¡ë³„ ì•¡ì…˜: ë³µì‚¬, ì¬ì‹¤í–‰, ì‚­ì œ

**ì»´í¬ë„ŒíŠ¸**:

- `TerminalBlock`: ê°œë³„ ëª…ë ¹ì–´ ë¸”ë¡
- `TerminalPanel`: ë©”ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (ë¸”ë¡ ë¦¬ìŠ¤íŠ¸ + ì…ë ¥ì°½)
- `AICommandInput`: ìì—°ì–´/ì§ì ‘ ëª…ë ¹ ì…ë ¥ ì „í™˜
- `BlockHistoryPanel`: íˆìŠ¤í† ë¦¬ ê²€ìƒ‰ ì‚¬ì´ë“œë°”
- `SidebarTerminal`: ì‚¬ì´ë“œë°” ìƒíƒœ í‘œì‹œ
- `TerminalSettings`: AI ê¸°ëŠ¥ ë° UI ì„¤ì •

### 2. **AI ëª…ë ¹ì–´ ì œì•ˆ ë° ì‹¤í–‰**

**Terminal Agent (LangGraph)**:

```typescript
ìì—°ì–´ ì…ë ¥: "ìµœê·¼ ìˆ˜ì •ëœ íŒŒì¼ 5ê°œ ë³´ì—¬ì¤˜"
         â†“
Terminal Agent (LangGraph)
         â†“
ëª…ë ¹ì–´ ìƒì„±: "ls -lt | head -n 5"
         â†“
PTY Manager ì‹¤í–‰
         â†“
ì¶œë ¥ í‘œì‹œ + AI ë¶„ì„
```

**Agent íŠ¹ì§•**:

- âœ… LangGraph StateGraph ê¸°ë°˜
- âœ… ìµœëŒ€ 10 iterations (ë¬´í•œ ë£¨í”„ ë°©ì§€)
- âœ… 4ê°œ ë„êµ¬: run_command, get_history, search_commands, explain_error
- âœ… System promptì— ì»¨í…ìŠ¤íŠ¸ í†µí•© (CWD, Shell, Platform, ìµœê·¼ ëª…ë ¹ì–´)

### 3. **ëª…ë ¹ì–´ íˆìŠ¤í† ë¦¬ ê´€ë¦¬**

**Persistent Storage**:

- âœ… localStorage ê¸°ë°˜ ìë™ ì €ì¥
- âœ… ë¸”ë¡ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ì‹œ 1ì´ˆ í›„ ì €ì¥ (ë””ë°”ìš´ì‹±)
- âœ… ì•± ì¬ì‹œì‘ ì‹œ íˆìŠ¤í† ë¦¬ ìë™ ë³µì›
- âœ… ìµœëŒ€ 10-1000ê°œ ë¸”ë¡ ì œí•œ (ì„¤ì • ê°€ëŠ¥)

**VectorDB ì¸ë±ì‹±**:

- âœ… ëª¨ë“  ë¸”ë¡ì„ VectorDBì— ìë™ ì¸ë±ì‹±
- âœ… ëª…ë ¹ì–´ + ìì—°ì–´ ì…ë ¥ + ì¶œë ¥ + AI ë¶„ì„ í†µí•©
- âœ… ë°±ê·¸ë¼ìš´ë“œ ì¸ë±ì‹± (ì„±ëŠ¥ ì˜í–¥ ìµœì†Œí™”)
- âœ… ë¸”ë¡ ì‚­ì œ ì‹œ VectorDB ë™ê¸°í™”

**ë©”íƒ€ë°ì´í„°**:

```json
{
  "type": "terminal-block",
  "blockId": "uuid",
  "command": "ls -la",
  "cwd": "/home/user/project",
  "shell": "bash",
  "timestamp": 1704636000000,
  "exitCode": 0,
  "hasError": false,
  "aiGenerated": true,
  "hasNaturalInput": true,
  "hasAiAnalysis": true
}
```

### 4. **RAG ê¸°ë°˜ ëª…ë ¹ì–´ ê²€ìƒ‰**

**Semantic Search**:

```typescript
// VectorDB ê²€ìƒ‰
search_commands("íŒŒì¼ ê¶Œí•œ ë³€ê²½í•˜ëŠ” ë°©ë²•")
    â†“
Embedding ìƒì„± (OpenAI text-embedding-ada-002)
    â†“
VectorDB ê²€ìƒ‰ (ìœ ì‚¬ë„ ê¸°ë°˜)
    â†“
ê²°ê³¼ ë°˜í™˜ (score í¬í•¨)
```

**Fallback ë©”ì»¤ë‹ˆì¦˜**:

- VectorDB ì‹¤íŒ¨ ì‹œ â†’ í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰
- Embedding API ì‹¤íŒ¨ ì‹œ â†’ í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰
- Electron í™˜ê²½ ì•„ë‹˜ â†’ ì—ëŸ¬ ë°˜í™˜

### 5. **AI ì—ëŸ¬ ë¶„ì„**

**explain_error Tool**:

- âœ… LLM ê¸°ë°˜ ì—ëŸ¬ ì›ì¸ ë¶„ì„
- âœ… í•´ê²°ì±… ì œì•ˆ (3-5ê°œ)
- âœ… JSON í˜•ì‹ ì‘ë‹µ íŒŒì‹±
- âœ… TerminalBlockì— AI ë¶„ì„ ì €ì¥

**ì‘ë‹µ í˜•ì‹**:

```json
{
  "cause": "ê¶Œí•œ ë¶€ì¡±ìœ¼ë¡œ íŒŒì¼ì„ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
  "solutions": ["sudoë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œ ìƒìŠ¹", "íŒŒì¼ ì†Œìœ ì ë³€ê²½ (chown)", "íŒŒì¼ ê¶Œí•œ ë³€ê²½ (chmod)"],
  "summary": "ê¶Œí•œ ë¬¸ì œë¡œ íŒŒì¼ ì ‘ê·¼ ì‹¤íŒ¨"
}
```

---

## ğŸ“¦ êµ¬í˜„ëœ ê¸°ëŠ¥ ìš”ì•½

### Phase 1: Extension ê¸°ë³¸ êµ¬ì¡° âœ…

- âœ… manifest.ts (extension ë©”íƒ€ë°ì´í„°)
- âœ… types/index.ts (TypeScript íƒ€ì… ì •ì˜)
- âœ… store/index.ts (Zustand slice)
- âœ… Extension Loader í†µí•©

### Phase 2: Terminal Agent ë° Tools âœ…

- âœ… Terminal Agent (LangGraph StateGraph)
- âœ… run_command tool (child_process ê¸°ë°˜)
- âœ… get_history tool (Store ì¡°íšŒ)
- âœ… search_commands tool (VectorDB semantic search)
- âœ… explain_error tool (LLM ê¸°ë°˜ ì—ëŸ¬ ë¶„ì„)

### Phase 3: ë¸”ë¡ ê¸°ë°˜ UI âœ…

- âœ… TerminalBlock ì»´í¬ë„ŒíŠ¸ (Warp ìŠ¤íƒ€ì¼)
- âœ… AICommandInput (ìì—°ì–´/ì§ì ‘ ëª…ë ¹ ì „í™˜)
- âœ… TerminalPanel (ë©”ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤)
- âœ… BlockHistoryPanel (íˆìŠ¤í† ë¦¬ ê²€ìƒ‰)
- âœ… SidebarTerminal (ìƒíƒœ í‘œì‹œ)
- âœ… TerminalSettings (ì„¤ì • íƒ­)

### Phase 4: State ê´€ë¦¬ ë° íˆìŠ¤í† ë¦¬ âœ…

- âœ… setMaxHistoryBlocks ì•¡ì…˜ ì¶”ê°€
- âœ… localStorage persistent storage
- âœ… ìë™ ì €ì¥ ë””ë°”ìš´ì‹± (1ì´ˆ)
- âœ… VectorDB ìë™ ì¸ë±ì‹±
- âœ… ë¸”ë¡ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œ VectorDB ë™ê¸°í™”

### Phase 5: RAG í†µí•© âœ…

- âœ… VectorDB semantic search êµ¬í˜„
- âœ… Embedding API í†µí•© (OpenAI)
- âœ… Fallback í‚¤ì›Œë“œ ê²€ìƒ‰
- â³ Tutorial ë¬¸ì„œ (í–¥í›„ ì¶”ê°€ ì˜ˆì •)

### Phase 6: Integration âœ…

- âœ… IPC í•¸ë“¤ëŸ¬ êµ¬í˜„ (terminal:execute-command, terminal:ai-command)
- âœ… Main Processì™€ Renderer Process í†µí•©
- âœ… Terminal Agent ë™ì  import ë° ì‹¤í–‰
- âœ… ìì—°ì–´ ì…ë ¥ â†’ ëª…ë ¹ì–´ ìƒì„± â†’ ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ ì™„ì„±

---

## ğŸ”§ ì£¼ìš” íŒŒì¼ êµ¬ì¡°

```
extensions/terminal/
â”œâ”€â”€ manifest.ts                    # Extension ë©”íƒ€ë°ì´í„°
â”œâ”€â”€ index.ts                       # Entry point
â”œâ”€â”€ types/index.ts                 # TypeScript íƒ€ì…
â”œâ”€â”€ store/
â”‚   â”œâ”€â”€ index.ts                   # Zustand slice
â”‚   â”œâ”€â”€ storage.ts                 # localStorage ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ vectordb.ts                # VectorDB ì¸ë±ì‹± ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ terminal-agent.ts          # LangGraph Agent
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ run_command.ts             # ëª…ë ¹ì–´ ì‹¤í–‰
â”‚   â”œâ”€â”€ get_history.ts             # íˆìŠ¤í† ë¦¬ ì¡°íšŒ
â”‚   â”œâ”€â”€ search_commands.ts         # RAG ê²€ìƒ‰
â”‚   â””â”€â”€ explain_error.ts           # ì—ëŸ¬ ë¶„ì„
â””â”€â”€ components/
    â”œâ”€â”€ TerminalPanel.tsx          # ë©”ì¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤
    â”œâ”€â”€ TerminalBlock.tsx          # ëª…ë ¹ì–´ ë¸”ë¡
    â”œâ”€â”€ AICommandInput.tsx         # ì…ë ¥ ì°½
    â”œâ”€â”€ BlockHistoryPanel.tsx      # íˆìŠ¤í† ë¦¬ íŒ¨ë„
    â”œâ”€â”€ SidebarTerminal.tsx        # ì‚¬ì´ë“œë°”
    â””â”€â”€ TerminalSettings.tsx       # ì„¤ì • íƒ­
```

---

## ğŸ“Š Store ì•¡ì…˜

### ë¸”ë¡ ê´€ë¦¬

- `addTerminalBlock`: ìƒˆ ë¸”ë¡ ìƒì„± + VectorDB ì¸ë±ì‹±
- `updateTerminalBlock`: ë¸”ë¡ ìˆ˜ì • + VectorDB ì¬ì¸ë±ì‹±
- `removeTerminalBlock`: ë¸”ë¡ ì‚­ì œ + VectorDB ì‚­ì œ
- `clearTerminalBlocks`: ëª¨ë“  ë¸”ë¡ ì‚­ì œ + VectorDB í´ë¦¬ì–´
- `getRecentTerminalBlocks`: ìµœê·¼ Nê°œ ë¸”ë¡ ì¡°íšŒ
- `loadTerminalHistoryFromStorage`: íˆìŠ¤í† ë¦¬ ë³µì›

### ì„¸ì…˜ ê´€ë¦¬

- `setTerminalSessionId`: PTY ì„¸ì…˜ ID ì„¤ì •
- `setCurrentCwd`: í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
- `setCurrentShell`: í˜„ì¬ ì…¸ ì„¤ì •

### Agent ì œì–´

- `setTerminalAgentIsRunning`: Agent ì‹¤í–‰ ìƒíƒœ
- `addTerminalAgentLog`: Agent ë¡œê·¸ ì¶”ê°€
- `clearTerminalAgentLogs`: Agent ë¡œê·¸ í´ë¦¬ì–´

### UI

- `setTerminalViewMode`: ë·° ëª¨ë“œ (blocks/traditional)
- `toggleAISuggestions`: AI ì œì•ˆ í† ê¸€
- `toggleHistory`: íˆìŠ¤í† ë¦¬ íŒ¨ë„ í† ê¸€
- `setEnableAutoAnalysis`: ìë™ ë¶„ì„ í™œì„±í™”
- `setMaxHistoryBlocks`: ìµœëŒ€ íˆìŠ¤í† ë¦¬ ì œí•œ

---

## ğŸ¯ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ìì—°ì–´ ëª…ë ¹ì–´ ì‹¤í–‰

```
ì‚¬ìš©ì: "ìµœê·¼ git ì»¤ë°‹ 10ê°œ ë³´ì—¬ì¤˜"

[Terminal Agent ì‹¤í–‰]
â†’ System Prompt: "ìì—°ì–´ë¥¼ shell ëª…ë ¹ì–´ë¡œ ë³€í™˜í•˜ì„¸ìš”. CWD: /project, Shell: bash"
â†’ Agent ì‘ë‹µ: { command: "git log --oneline -10" }

[ëª…ë ¹ì–´ ì‹¤í–‰]
â†’ run_command tool ì‹¤í–‰
â†’ Output: "a1b2c3d feat: ...\n4e5f6g7 fix: ...\n..."

[ë¸”ë¡ ìƒì„±]
â†’ TerminalBlock ìƒì„± (ìì—°ì–´ ì…ë ¥ í¬í•¨)
â†’ localStorage ì €ì¥ (1ì´ˆ í›„)
â†’ VectorDB ì¸ë±ì‹± (ë°±ê·¸ë¼ìš´ë“œ)

[í™”ë©´ í‘œì‹œ]
âœ… ë¸”ë¡ì— ìì—°ì–´ ì…ë ¥, ëª…ë ¹ì–´, ì¶œë ¥ ëª¨ë‘ í‘œì‹œ
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì—ëŸ¬ ìë™ ë¶„ì„

```
ì‚¬ìš©ì: "npm install"

[ëª…ë ¹ì–´ ì‹¤í–‰]
â†’ Exit Code: 1 (ì‹¤íŒ¨)
â†’ Stderr: "EACCES: permission denied"

[ìë™ AI ë¶„ì„] (enableAutoAnalysis: true)
â†’ explain_error tool ì‹¤í–‰
â†’ LLM ì‘ë‹µ:
{
  "cause": "ê¶Œí•œ ë¶€ì¡±ìœ¼ë¡œ npm íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨",
  "solutions": [
    "sudo npm install (ê¶Œí•œ ìƒìŠ¹)",
    "npm config set prefix ~/.npm-global (ì‚¬ìš©ì ë””ë ‰í† ë¦¬ ì‚¬ìš©)",
    "chown -R $(whoami) ~/.npm (ì†Œìœ ê¶Œ ë³€ê²½)"
  ],
  "summary": "npm ê¶Œí•œ ë¬¸ì œ"
}

[í™”ë©´ í‘œì‹œ]
âŒ ë¸”ë¡ì— ì—ëŸ¬ í‘œì‹œ (ë¹¨ê°„ í…Œë‘ë¦¬)
ğŸ’¡ AI ë¶„ì„ í‘œì‹œ (ì›ì¸ + í•´ê²°ì±… 3ê°œ)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ëª…ë ¹ì–´ ê²€ìƒ‰ ë° ì¬ì‚¬ìš©

```
ì‚¬ìš©ì: "íŒŒì¼ ê¶Œí•œ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì–´ ë­ì˜€ì§€?"

[íˆìŠ¤í† ë¦¬ ê²€ìƒ‰]
â†’ search_commands("íŒŒì¼ ê¶Œí•œ ë³€ê²½")
â†’ VectorDB semantic search
â†’ Results:
  1. "chmod 755 script.sh" (score: 0.92)
  2. "sudo chmod +x app.py" (score: 0.88)
  3. "chown user:group file.txt" (score: 0.75)

[í™”ë©´ í‘œì‹œ]
â†’ BlockHistoryPanelì— ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
â†’ í´ë¦­ ì‹œ í•´ë‹¹ ë¸”ë¡ìœ¼ë¡œ ìŠ¤í¬ë¡¤
â†’ ì¬ì‹¤í–‰ ë²„íŠ¼ í´ë¦­ â†’ ê°™ì€ ëª…ë ¹ì–´ ë‹¤ì‹œ ì‹¤í–‰
```

---

## â³ í–¥í›„ ê°œì„  ì‚¬í•­

### Tutorial ì‹œìŠ¤í…œ (ë¯¸ë˜)

- git, npm, docker ê°€ì´ë“œ ë¬¸ì„œ ì‘ì„±
- Tutorial VectorDB ì¸ë±ì‹±
- Agent system promptì— tutorial í†µí•©
- BlockHistoryPanelì— "Tutorials" íƒ­ ì¶”ê°€

### ê³ ê¸‰ ê¸°ëŠ¥ (ë¯¸ë˜)

- ëª…ë ¹ì–´ ìë™ì™„ì„± (Context ê¸°ë°˜)
- ëª…ë ¹ì–´ í…œí”Œë¦¿ (ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´)
- ë‹¤ì¤‘ í„°ë¯¸ë„ ì„¸ì…˜ ì§€ì›
- SSH ì›ê²© ì„¸ì…˜ ì§€ì›
- ëª…ë ¹ì–´ ë¶ë§ˆí¬

---

## ğŸ‰ ê²°ë¡ 

**Terminal Extensionì€ Warp Terminalì˜ í•µì‹¬ ê¸°ëŠ¥ì„ SEPilot Desktopì— ì™„ë²½í•˜ê²Œ í†µí•©í–ˆìŠµë‹ˆë‹¤!**

**Phase 1-6 ì „ì²´ ì™„ë£Œ:**

- âœ… Phase 1: Extension ê¸°ë³¸ êµ¬ì¡°
- âœ… Phase 2: Terminal Agent ë° Tools
- âœ… Phase 3: ë¸”ë¡ ê¸°ë°˜ UI
- âœ… Phase 4: State ê´€ë¦¬ ë° íˆìŠ¤í† ë¦¬
- âœ… Phase 5: RAG í†µí•©
- âœ… Phase 6: Integration (IPC í•¸ë“¤ëŸ¬)

êµ¬í˜„ëœ í•µì‹¬ ê¸°ëŠ¥:

- âœ… ë¸”ë¡ ê¸°ë°˜ UI (Warp ìŠ¤íƒ€ì¼)
- âœ… AI ëª…ë ¹ì–´ ì œì•ˆ ë° ì‹¤í–‰ (LangGraph Agent)
- âœ… Persistent Storage (localStorage)
- âœ… VectorDB ê¸°ë°˜ RAG ê²€ìƒ‰
- âœ… AI ì—ëŸ¬ ë¶„ì„
- âœ… IPC í†µí•© (Renderer â†” Main Process)

**ì´ì œ ì‚¬ìš©ìëŠ” ìì—°ì–´ë¡œ í„°ë¯¸ë„ ì‘ì—…ì„ ìš”ì²­í•˜ê³ , AIê°€ ëª…ë ¹ì–´ë¥¼ ìƒì„±í•˜ë©°, íˆìŠ¤í† ë¦¬ë¥¼ ê²€ìƒ‰í•˜ê³ , ì—ëŸ¬ë¥¼ ë¶„ì„ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!**

ê°ì‚¬í•©ë‹ˆë‹¤! ğŸš€
