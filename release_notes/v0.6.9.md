# SEPilot Desktop v0.6.9 릴리스 노트

이번 릴리스는 **Editor 컴포넌트 Phase 1 완성**을 포함한 주요 개선 버전입니다.

## ✨ 주요 기능

### 1. Editor Phase 1 Critical 기능 완성

Editor 컴포넌트의 핵심 기능들을 완성하여 "Notion 수준"의 텍스트 에디터에 한 걸음 더 다가갔습니다.

- **키보드 단축키 도움말 (Ctrl+/)**:
  - 모든 단축키를 카테고리별로 정리하여 보여주는 다이얼로그
  - 7개 카테고리: 기본 편집, 탐색, 선택, AI 기능, 고급, 파일 관리, 일반
  - 50+ 단축키 정보 제공 (Mac/Windows 자동 인식)
  - 다국어 지원 (한국어, 영어, 중국어)

- **Command Palette (Ctrl+Shift+P)**:
  - VS Code 스타일의 통합 명령 팔레트
  - 실시간 검색 및 필터링
  - 키보드 네비게이션 지원 (↑↓, Enter)
  - 30+ 명령어 지원 (파일 관리, AI 코드, AI 작문, 편집, 보기, 탐색)
  - 다국어 지원 (한국어, 영어, 중국어)

- **Editor 컴포넌트 완전 다국어 지원**:
  - Editor.tsx: 18개 하드코딩 문자열 → i18n 키로 전환
  - SidebarEditor.tsx: 22개 하드코딩 문자열 → i18n 키로 전환
  - TerminalPanel.tsx: 2개 하드코딩 문자열 → i18n 키로 전환
  - 에러 메시지, 확인 대화상자, 드롭존, 상태 표시, 툴팁 등 모두 다국어화
  - 한국어, 영어, 중국어 완전 지원

**결과**: Editor 컴포넌트 완성도 75/100 → 85/100으로 향상. 사용성 개선 및 다국어 사용자 경험 크게 향상.

### 2. 다국어(i18n) 지원 확대

Settings 화면의 추가 컴포넌트들에 대한 다국어 지원을 완성했습니다.

- **EditorSettings 컴포넌트 다국어 지원**:
  - `settings.editor.settings.appearance` 섹션 추가 (폰트, 테마, 탭 설정 등)
  - `settings.editor.settings.prompts` 섹션 추가 (Code AI, Writing AI 프롬프트)
  - 50+ 번역 키 추가로 에디터 설정 화면 전체 다국어 지원
  - 한국어, 영어, 중국어 번역 완료

- **MCPServerList 컴포넌트 다국어 지원**:
  - `settings.mcp.serverList`에 `toolsUnit`, `tooltips.activate`, `tooltips.deactivate` 키 추가
  - 중국어(zh.json)에 전체 `serverList` 섹션 추가 (이전 버전에서 누락)
  - MCP 서버 목록, 상태 표시, 도구 정보 등 전체 다국어 지원
  - 한국어, 영어, 중국어 번역 완료

**결과**: Settings 화면의 대부분의 컴포넌트가 3개 언어(한국어, 영어, 중국어)를 완전히 지원합니다.

---

## 🛠 상세 변경 내역

### 버그 수정

- `fix(llm)`: LLM 에러 메시지 개선 - "UNKNOWN" 같은 불명확한 메시지 제거
  - 문제: IPC 핸들러에서 "UNKNOWN" 같은 디버깅이 어려운 모호한 에러 메시지 표시
  - 원인: 에러 객체의 상세 정보를 제대로 추출하지 못함
  - 해결:
    - 모든 에러 속성 (code, errno, syscall, name) 자세히 로깅
    - 네트워크 에러 코드별로 명확한 메시지 제공 (ENOTFOUND, ECONNREFUSED, ETIMEDOUT 등)
    - 디버깅 정보 섹션 추가 (errno, syscall, name 등)
    - Frontend에서 에러 코드를 파싱하여 사용자 친화적인 번역된 메시지 표시
  - 영향: LLM 모델 목록 새로고침, Connection 추가 등 모든 네트워크 작업
  - 결과: 사용자와 개발자 모두 에러 원인을 명확하게 파악 가능

- `fix(editor)`: 파일 탐색기 컨텍스트 메뉴 버그 수정
  - 문제: "폴더에서 검색" 컨텍스트 메뉴가 동작하지 않음
  - 원인: handleFindInFolder 함수가 존재하지 않는 setActiveEditorTab 함수를 호출
  - 해결: setEditorViewMode('search')를 사용하도록 수정
  - 결과: 폴더 우클릭 후 "폴더에서 검색" 메뉴가 정상 동작

- `fix(editor)`: FileTreeItem의 자식 컴포넌트 활성 상태 표시 오류 수정
  - 문제: 자식 파일의 활성 상태가 잘못 표시됨
  - 원인: 부모의 isActive를 자식에게 그대로 전달
  - 해결: activeFilePath를 store에서 가져와 각 자식의 isActive를 올바르게 계산
  - 결과: 파일 트리에서 현재 열린 파일이 정확하게 하이라이트됨

- `refactor(editor)`: path-browserify 의존성 제거 및 경로 작업 안정성 개선
  - 문제: use-file-clipboard.ts에서 path-browserify 사용으로 인한 잠재적 경로 처리 문제
  - 원인: 클라이언트 측에서 직접 경로 작업 수행 (Windows/POSIX 차이 발생 가능)
  - 해결:
    - IPC에 basename, dirname, extname 유틸리티 함수 추가
    - 모든 경로 작업을 IPC를 통해 Main Process에서 수행하도록 변경
    - 무한 루프 방지를 위한 안전 장치 추가 (최대 1000회 시도)
  - 영향: 파일 복사, 잘라내기, 붙여넣기, 중복 파일명 처리
  - 결과:
    - Windows/Linux/Mac 모든 환경에서 일관되고 안전한 경로 처리
    - path-browserify 의존성 제거로 번들 크기 감소
    - Electron Main Process의 Node.js path 모듈을 활용하여 안정성 향상
    - 중복 파일명 생성 로직의 신뢰성 향상

- `fix(mcp)`: Windows 환경에서 MCP 서버 추가 시 무한 대기 문제 수정
  - 문제: Windows에서 Python MCP 서버 추가 시 "서버 추가 중..."에서 멈춤
  - 원인: 연결 타임아웃이 10분으로 너무 길고, 프로세스 시작 실패 감지가 부족
  - 해결:
    - 연결 타임아웃을 30초로 단축하여 빠른 피드백 제공
    - 프로세스 시작 실패 시 즉시 에러 반환하도록 개선
    - 프로세스가 즉시 종료되는 경우 명확한 에러 메시지 제공
    - 상세한 로깅 추가로 디버깅 용이성 향상
  - 영향: stdio transport를 사용하는 모든 MCP 서버
  - 결과:
    - 서버 추가 실패 시 30초 이내에 명확한 에러 메시지 표시
    - Windows 경로 처리 개선 (shell: true 사용)
    - 콘솔 로그로 서버 추가 과정의 각 단계 확인 가능

- `fix(editor)`: Monaco Editor 단축키가 일반 텍스트 입력을 방해하던 문제 수정 (#81)
  - 문제: 'e', 'c', 's' 등의 키 입력이 에디터에서 정상적으로 입력되지 않음
  - 원인: Monaco Editor의 chord 단축키(Ctrl+K, E 등)가 일반 타이핑을 간섭
  - 해결: AI 관련 chord 단축키 비활성화 (컨텍스트 메뉴로 대체)
  - 영향: AI Writing Actions (Continue, Shorten, Longer, Grammar, Summarize)
  - 영향: AI Code Actions (Explain, Fix, Improve, Complete, Comments, Tests)
  - 결과: 사용자는 이제 방해 없이 자유롭게 텍스트 입력 가능

- `refactor(editor)`: 코드 리뷰 피드백 반영 - 타입 안전성 및 사용성 개선
  - SingleFileEditor: `keybindings: undefined` 대신 속성 자체를 제거하여 타입 안전성 개선
  - KeyboardShortcutsDialog: 비활성화된 chord 단축키 목록 제거
  - 키보드 단축키 도움말(Ctrl+/)에 AI 기능 접근 방법 안내 추가
  - 다국어 지원: "AI 기능은 텍스트 선택 후 우클릭 메뉴에서 사용 가능" 안내 메시지 추가

### 새로운 기능

- `feat(editor)`: 키보드 단축키 도움말 다이얼로그 추가
  - KeyboardShortcutsDialog 컴포넌트 생성
  - Ctrl+/ 단축키로 호출
  - 7개 카테고리별로 50+ 단축키 정리
  - Mac/Windows 자동 인식 (⌘/Ctrl, ⌥/Alt, ⇧/Shift)
  - 다국어 지원 (editor.shortcuts 섹션)

- `feat(editor)`: Command Palette 추가
  - CommandPalette 컴포넌트 생성
  - Ctrl+Shift+P 단축키로 호출
  - 실시간 검색 및 필터링 (제목, 카테고리, 키워드)
  - 키보드 네비게이션 (↑↓, Enter)
  - 30+ 명령어 지원 (6개 카테고리)
  - 다국어 지원 (editor.commands 섹션)

### 다국어(i18n) 개선

- `feat(i18n)`: UnifiedChatInput 컴포넌트 다국어 지원 추가
  - useTranslation 훅을 활용하여 모든 하드코딩된 한국어 문자열을 i18n 키로 전환
  - placeholder 텍스트 다국어화 (generating, ultraCompact, default)
  - Thinking mode 라벨 및 설명 다국어화 (instant, sequential, treeOfThought, deep, deepWebResearch, coding)
  - Tools 관련 텍스트 다국어화 (status, enableAll, disableAll, loading)
  - 이미지 생성, 파일 드롭, Agent progress 메시지 다국어화
  - 액션 버튼 title 속성 다국어화 (stop, send)
  - 번역 파일에 unifiedInput 섹션 추가 (ko, en, zh)
  - 한국어, 영어, 중국어 완전 지원

- `feat(i18n)`: GalleryView 컴포넌트 다국어 지원 추가
  - gallery 섹션의 기존 번역 키 구조 활용
  - 모든 하드코딩된 한국어 문자열을 i18n 키로 교체 (25개 → 0개)
  - 헤더, 필터 탭, 빈 상태 메시지, 타입 뱃지, 컨텍스트 메뉴, 모달 등 전체 다국어화
  - count 값은 interpolation을 통해 동적으로 표시
  - 한국어, 영어, 중국어 완전 지원

- `fix(i18n)`: EditorSettings 컴포넌트 다국어 지원 추가 (38de0de)
  - settings.editor.settings.appearance 섹션: fontSize, fontFamily, theme, tabSize, wordWrap, minimap, lineNumbers, preview 등
  - settings.editor.settings.prompts 섹션: Code AI 프롬프트 (explain, fix, improve, complete, addComments, generateTest), Writing AI 프롬프트 (continueWriting, makeShorter, makeLonger, simplify, fixGrammar, summarize, translate)
  - 모든 하드코딩된 한국어 텍스트를 번역 키로 교체
  - 한국어, 영어, 중국어 번역 추가

- `fix(i18n)`: MCPServerList 컴포넌트 다국어 지원 추가 (f12dd56)
  - settings.mcp.serverList에 toolsUnit, tooltips.activate/deactivate 키 추가
  - zh.json에 전체 serverList 섹션 추가 (이전에 완전히 누락)
  - MCP 서버 목록의 "총 X개 서버", "새로고침", "X개 도구", "서버 재연결", "비활성화/활성화" 등 다국어 처리
  - 모든 하드코딩된 한국어 텍스트를 번역 키로 교체

- `fix(i18n)`: Editor.tsx 컴포넌트 완전 다국어 지원
  - 18개 하드코딩된 한국어 문자열을 i18n 키로 전환
  - editor.errors 섹션: cannotRefreshFile, refreshError, cannotLoadImage
  - editor.confirmations 섹션: closeUnsavedFile
  - editor.dropzone 섹션: dropFileHere, openDraggedFile, dropToOpen
  - editor.emptyState 섹션: selectOrDragFile
  - editor.status 섹션: unsavedChanges, refreshing, saving, loadingImage
  - editor.actions 섹션: refresh, save, ignore
  - editor.warnings 섹션: fileChangedExternally
  - 한국어, 영어, 중국어 번역 완료

- `fix(i18n)`: SidebarEditor.tsx 컴포넌트 완전 다국어 지원
  - 22개 하드코딩된 한국어 문자열을 i18n 키로 전환
  - sidebar.editor.confirmations 섹션: clearChat
  - sidebar.editor.tooltips 섹션: toggleTheme, aiAssistant, newChat, autocompleteToolsStatus, autocompleteRagStatus, documentManagement, hideTerminal, openTerminal, setWorkingDirectoryFirst, workingDirectoryRequired, settings, editorSettings, presentationMode
  - sidebar.editor.status 섹션: enabled, disabled
  - 한국어, 영어, 중국어 번역 완료

- `fix(i18n)`: TerminalPanel.tsx 컴포넌트 완전 다국어 지원
  - 2개 하드코딩된 한국어 문자열을 i18n 키로 전환
  - terminal.actions 섹션: close, newTerminal
  - 한국어, 영어, 중국어 번역 완료

- `feat(i18n)`: Editor, Sidebar, Terminal 컴포넌트 다국어 번역 키 추가
  - editor.shortcuts 섹션 추가: 키보드 단축키 관련 50+ 번역 키 (categories, 기본 편집, 탐색, 선택, AI 기능, 고급, 파일 관리 등)
  - editor.commands 섹션 추가: 명령 팔레트 관련 30+ 번역 키 (검색, 파일 관리, AI 코드/작문 명령 등)
  - editor.errors, confirmations, dropzone, emptyState, status, actions, warnings 섹션 추가
  - sidebar.editor 섹션 확장: confirmations, tooltips, status 하위 섹션 추가
  - terminal.actions 섹션 추가: close, newTerminal 키 추가
  - 한국어, 영어, 중국어 번역 완료 (100+ 새로운 번역 키)

- `feat(i18n)`: LLM 에러 메시지 다국어 지원 추가
  - Backend (electron/ipc/handlers/llm.ts)의 모든 에러 메시지를 한국어에서 영어로 변환
  - 에러 코드 기반 구조화된 에러 메시지 형식 적용 (예: "ENOTFOUND: DNS lookup failed")
  - Frontend (ModelListView.tsx)에 에러 코드 파싱 및 번역 로직 추가
  - errors.llm 섹션 추가: enotfound, econnrefused, etimedout, ssl_error, unknown 등 네트워크 에러 메시지
  - common.technicalDetails 키 추가: 사용자 친화적 메시지와 기술 세부사항 분리
  - 사용자에게 번역된 에러 메시지 표시, 기술 세부사항은 접을 수 있게 개선
  - 한국어, 영어, 중국어 번역 완료

- `feat(i18n)`: Settings 컴포넌트 다국어 지원 완성
  - SettingsDialog.tsx: 모든 하드코딩된 검증 메시지 및 성공 메시지를 i18n 키로 교체
    - settings.llm.validation.\*: connectionNotExists, conversionError 등 검증 메시지
    - settings.editor.saved, settings.browser.saved: 저장 완료 메시지
    - settings.imagegen.validation.\*: 이미지 생성 설정 검증 메시지
    - settings.quickinput.validation.\*: 빠른 입력 설정 검증 메시지
  - ConnectionManager.tsx: 모든 aria-label을 i18n 키로 교체
    - settings.llm.connections.toggleAriaLabel, editAriaLabel, deleteAriaLabel
  - GitHubOAuthSettings.tsx: 하드코딩된 한국어 레이블을 i18n 키로 교체
    - settings.githubOAuth.complete.\*: server, repository 레이블
  - settingsUtils.ts: 모든 에러 메시지를 영어로 변환
  - settings.llm.models.customHeaders.\*: 커스텀 헤더 복원/제거 aria-label
  - 한국어, 영어, 중국어 번역 완료

---

## 📊 번역 현황

### Editor 컴포넌트

| 컴포넌트          | 한국어 | 영어 | 중국어 | 하드코딩 문자열 | 상태      |
| ----------------- | ------ | ---- | ------ | --------------- | --------- |
| Editor.tsx        | ✅     | ✅   | ✅     | 0개 (18개 제거) | 완전 지원 |
| SidebarEditor.tsx | ✅     | ✅   | ✅     | 0개 (22개 제거) | 완전 지원 |
| TerminalPanel.tsx | ✅     | ✅   | ✅     | 0개 (2개 제거)  | 완전 지원 |
| SingleFileEditor  | ✅     | ✅   | ✅     | 0개             | 완전 지원 |

### Settings 컴포넌트

| 컴포넌트            | 한국어 | 영어 | 중국어 | 상태      |
| ------------------- | ------ | ---- | ------ | --------- |
| SettingsDialog      | ✅     | ✅   | ✅     | 완전 지원 |
| EditorSettings      | ✅     | ✅   | ✅     | 완전 지원 |
| MCPServerList       | ✅     | ✅   | ✅     | 완전 지원 |
| BrowserSettings     | ✅     | ✅   | ✅     | 완전 지원 |
| NetworkSettingsTab  | ✅     | ✅   | ✅     | 완전 지원 |
| GitHubSyncSettings  | ✅     | ✅   | ✅     | 완전 지원 |
| GitHubOAuthSettings | ✅     | ✅   | ✅     | 완전 지원 |
| ConnectionManager   | ✅     | ✅   | ✅     | 완전 지원 |
| ModelListView       | ✅     | ✅   | ✅     | 완전 지원 |

### Chat 컴포넌트

| 컴포넌트         | 한국어 | 영어 | 중국어 | 하드코딩 문자열 | 상태      |
| ---------------- | ------ | ---- | ------ | --------------- | --------- |
| UnifiedChatInput | ✅     | ✅   | ✅     | 0개 (30개 제거) | 완전 지원 |

### Gallery 컴포넌트

| 컴포넌트    | 한국어 | 영어 | 중국어 | 하드코딩 문자열 | 상태      |
| ----------- | ------ | ---- | ------ | --------------- | --------- |
| GalleryView | ✅     | ✅   | ✅     | 0개 (25개 제거) | 완전 지원 |

### 새로운 기능

| 기능                    | 한국어 | 영어 | 중국어 | 상태      |
| ----------------------- | ------ | ---- | ------ | --------- |
| KeyboardShortcutsDialog | ✅     | ✅   | ✅     | 완전 지원 |
| CommandPalette          | ✅     | ✅   | ✅     | 완전 지원 |

---

## 🎯 업그레이드 가이드

### v0.6.8에서 v0.6.9로

이번 릴리스는 주로 Editor 기능 개선 및 다국어 지원 확대로 구성되어 있어 별도의 마이그레이션 작업이 필요하지 않습니다.

- 기존 설정 및 데이터는 모두 호환됩니다
- **새로운 단축키**:
  - `Ctrl+/`: 키보드 단축키 도움말 표시
  - `Ctrl+Shift+P`: Command Palette 열기
- Editor와 Settings 화면에서 언어 변경 시 더 많은 컴포넌트가 올바르게 번역됩니다

---

## 📋 다음 릴리스 예정 (v0.7.0)

- **Editor Phase 2**:
  - 파일 탭 단축키 (Ctrl+W, Ctrl+Tab, Ctrl+Shift+Tab)
  - 검색/바꾸기 UI 개선
  - 에러 핸들링 개선
- **Editor Phase 3**:
  - Split View (분할 화면)
  - 성능 최적화 (대용량 파일 처리)
- Phase 2 다국어 지원: 메인 채팅 화면, 에러 메시지 다국어화
- 추가 언어 지원 확대 (일본어, 프랑스어 등)

---

_이 릴리스 노트는 v0.6.8 이후의 변경 사항을 포함합니다._
