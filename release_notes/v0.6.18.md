# SEPilot Desktop v0.6.18

λ¦΄λ¦¬μ¦ λ‚ μ§: 2024-12-30

## π― μ£Όμ” λ³€κ²½μ‚¬ν•­

### π§ ν…μ¤νΈ μΈν”„λΌ κ°μ„ 

#### E2E ν…μ¤νΈ Headless ν™κ²½ μ§€μ›

- **Xvfb μλ™ κ°μ§€ λ° μ‹¤ν–‰**: headless ν™κ²½(μ„λ²„, CI/CD)μ—μ„ E2E ν…μ¤νΈ μ‹¤ν–‰ κ°€λ¥
- **μ¤λ§νΈ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ**: GUI/headless ν™κ²½ μλ™ κµ¬λ¶„
- **μ‚¬μ©μ μΉν™”μ  μ¤λ¥ λ©”μ‹μ§€**: Xvfb λ―Έμ„¤μΉ μ‹ μ„¤μΉ κ°€μ΄λ“ μ κ³µ

**κΈ°μ  μ„Έλ¶€μ‚¬ν•­**:

- `scripts/run-e2e-tests.sh` μ¶”κ°€: Xvfb ν™•μΈ λ° μλ™ μ‹¤ν–‰
- `e2e_tests/helpers/app-launcher.ts`: Electron μ‹¤ν–‰ μµμ… κ°μ„ 
  - `--no-sandbox`, `--disable-gpu`, `--disable-dev-shm-usage` ν”λκ·Έ μ¶”κ°€
  - DISPLAY ν™κ²½ λ³€μ μλ™ μ„¤μ •
- `package.json`: E2E ν…μ¤νΈ μ¤ν¬λ¦½νΈλ¥Ό λνΌλ΅ λ³€κ²½

#### ν…μ¤νΈ μ•μ •μ„± ν–¥μƒ

- **React act(...) κ²½κ³  μμ •**: `ToolApprovalDialog` μ»΄ν¬λ„νΈμ unmount μ‹ setState λ°©μ§€
- **i18n mock μ¶”κ°€**: `react-i18next` mock κµ¬ν„μΌλ΅ λ²μ—­ ν‚¤ ν…μ¤νΈ κ°€λ¥
  - μ‹¤μ  ν•κµ­μ–΄ λ²μ—­ νμΌ(locales/ko.json) λ΅λ“
  - Interpolation μ§€μ› (`{{count}}κ°` β†’ `2κ°`)

**ν…μ¤νΈ κ²°κ³Ό**:

- λ‹¨μ„ ν…μ¤νΈ: DocumentList ν…μ¤νΈ 31/32 ν†µκ³Ό
- E2E ν…μ¤νΈ: headless ν™κ²½ μ§€μ› μ™„λ£

### π“ λ¬Έμ„ν™”

#### README μ—…λ°μ΄νΈ

- **κ°λ° & ν…μ¤νΈ μ„Ήμ… μ¶”κ°€**:
  - λ‹¨μ„ ν…μ¤νΈ μ‹¤ν–‰ λ°©λ²• (frontend/backend λ¶„λ¦¬)
  - E2E ν…μ¤νΈ μ‹¤ν–‰ λ°©λ²• (Xvfb μ„¤μΉ κ°€μ΄λ“ ν¬ν•¨)
  - μμ–΄/ν•κµ­μ–΄ λ¨λ‘ μ—…λ°μ΄νΈ

## π› λ²„κ·Έ μμ •

### Webpack Node: Protocol μ²λ¦¬

- **λ¬Έμ **: `UnhandledSchemeError: Reading from "node:assert" is not handled by plugins`
- **κ·Όλ³Έ μ›μΈ**: undici ν¨ν‚¤μ§€κ°€ `node:` protocol importλ¥Ό μ‚¬μ©ν•λ”λ°, webpackμ΄ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ— ν¬ν•¨μ‹ν‚¤λ ¤κ³  μ‹λ„
- **ν•΄κ²° κ³Όμ •**:
  1. μ΄κΈ° μ‹λ„: webpack resolve.alias μ¶”κ°€ (node: β†’ μΌλ° λ¨λ“ λ§¤ν•‘)
     - 20κ° μ΄μƒμ Node.js λ‚΄μ¥ λ¨λ“ alias μ„¤μ •
     - λ΅μ»¬ λΉλ“λ” μ„±κ³µν–μΌλ‚ CI λΉλ“λ” κ³„μ† μ‹¤ν¨
  2. μµμΆ… ν•΄κ²°: undiciλ¥Ό webpack externalsμ— μ¶”κ°€
     - undiciλ” Node.js μ „μ© HTTP ν΄λΌμ΄μ–ΈνΈμ΄λ―€λ΅ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ—μ„ μ™„μ „ν μ μ™Έ
     - browser-stub.tsλ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ—μ„λ” λ€μ²΄ κµ¬ν„ μ‚¬μ©
- **μν–¥**: Windows, macOS, Linux λ¨λ“  ν”λ«νΌμ—μ„ λΉλ“ κ°€λ¥

### ν”„λ΅μ‹ κ΄€λ ¨ μμ • (v0.6.17)

- undiciλ¥Ό μ‚¬μ©ν•μ—¬ ν”„λ΅μ‹ λΉ„ν™μ„±ν™” μ‹ ν™κ²½ λ³€μ λ¬΄μ‹ λ©”μ»¤λ‹μ¦ κ°•ν™”
- ν”„λ΅μ‹ μ„¤μ • λ…Όλ¦¬μ  λ¨μ λ°©μ§€ λ° μλ™ μ •κ·ν™”
- browser-stubμ— safeJsonParse λ° HttpError export μ¶”κ°€
- JSON νμ‹± μ—λ¬ μ²λ¦¬ κ°μ„ 

## π“¦ μμ΅΄μ„± μ—…λ°μ΄νΈ

### μ£Όμ” μ—…λ°μ΄νΈ

- **Next.js**: 16.0.10 β†’ 16.1.1
- **lucide-react**: 0.555.0 β†’ 0.562.0
- **markdown-to-jsx**: 9.3.5 β†’ 9.5.0
- **zod**: 4.1.13 β†’ 4.2.1
- **node-pty**: 1.1.0-beta43 β†’ 1.1.0 (stable)
- **@xterm/addon-fit**: 0.10.0 β†’ 0.11.0
- **@xterm/addon-web-links**: 0.11.0 β†’ 0.12.0
- **@next/bundle-analyzer**: 16.0.10 β†’ 16.1.1
- **eslint-config-next**: 16.1.0 β†’ 16.1.1

### DevDependencies

- eslint group μ—…λ°μ΄νΈ (2κ° ν¨ν‚¤μ§€)

## π”§ κΈ°μ  κ°μ„ 

### ν…μ¤νΈ μΈν”„λΌ

1. **E2E ν…μ¤νΈ ν™κ²½ κµ¬μ„±**:
   - Electron λ°”μ΄λ„λ¦¬ μ„¤μΉ μλ™ν™”
   - X server λ¶€μ¬ λ¬Έμ  ν•΄κ²° (Xvfb)
   - μ‹¤ν–‰ μµμ… μµμ ν™”

2. **λ‹¨μ„ ν…μ¤νΈ**:
   - i18n mock κ°μ„ 
   - React μ»΄ν¬λ„νΈ ν…μ¤νΈ μ•μ •μ„± ν–¥μƒ

### κ°λ°μ κ²½ν—

- ν…μ¤νΈ μ‹¤ν–‰ κ°€μ΄λ“ λ¬Έμ„ν™”
- ν™κ²½λ³„ ν…μ¤νΈ μ‹¤ν–‰ λ°©λ²• μ κ³µ
- μ¤λ¥ λ©”μ‹μ§€ λ° ν•΄κ²° λ°©λ²• κ°μ„ 

## π“ μ»¤λ°‹ λ‚΄μ—­

### μ£Όμ” μ»¤λ°‹

- `feat: E2E ν…μ¤νΈ headless ν™κ²½ μ§€μ› λ° λ¬Έμ„ν™”` (da38536)
- `fix: ν…μ¤νΈ μ•μ •μ„± κ°μ„  λ° i18n mock μ¶”κ°€` (1fb4f72)
- `fix: undiciλ¥Ό μ‚¬μ©ν•μ—¬ ν”„λ΅μ‹ λΉ„ν™μ„±ν™” μ‹ ν™κ²½ λ³€μ λ¬΄μ‹ λ©”μ»¤λ‹μ¦ κ°•ν™”` (72d6a54)

### Dependency μ—…λ°μ΄νΈ (Dependabot)

- 9κ°μ μμ΅΄μ„± μ—…λ°μ΄νΈ PR λ³‘ν•©

## π€ λ‹¤μ λ²„μ „ κ³„ν

- E2E ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€ ν™•λ€
- μ¶”κ°€ λ‹¨μ„ ν…μ¤νΈ μ‘μ„±
- CI/CD νμ΄ν”„λΌμΈ κ°μ„ 

## π“‹ μ•λ ¤μ§„ μ΄μ

- E2E ν…μ¤νΈλ” headless ν™κ²½μ—μ„ Xvfb μ„¤μΉ ν•„μ”
- GUI ν™κ²½(macOS, Windows, Linux Desktop)μ—μ„λ” μ¶”κ°€ μ„¤μ • μ—†μ΄ μ‹¤ν–‰ κ°€λ¥

---

**μ „μ²΄ λ³€κ²½μ‚¬ν•­**: [v0.6.17...v0.6.18](https://github.com/jhl-labs/sepilot_desktop/compare/v0.6.17...v0.6.18)
