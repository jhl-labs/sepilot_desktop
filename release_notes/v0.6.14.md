# SEPilot Desktop v0.6.14 릴리즈 노트

**릴리즈 날짜**: 2025-01-XX

## 🎯 주요 개선사항

### NetworkConfig 100% 적용 완료

모든 HTTP 통신에서 프록시 및 SSL 검증 설정이 완벽하게 적용되도록 개선했습니다. 이제 기업 프록시 환경이나 자체 서명된 인증서를 사용하는 환경에서도 모든 기능이 정상 작동합니다.

## 🐛 버그 수정

### LLM 통신 (2건)

1. **LLM 모델 가져오기 브라우저 환경 버그 수정** (f641ca2)
   - 문제: LLM Settings에서 "모델 가져오기" 실행 시 브라우저 환경에서 NetworkConfig 미전달
   - 영향: 프록시 환경에서 모델 목록 조회 실패
   - 수정: `components/settings/settingsUtils.ts`의 `fetchAvailableModels()` 브라우저 fallback에 networkConfig 추가

2. **WebLLMClient 스트리밍 버그 수정** (26d65cd)
   - 문제: 웹 브라우저 환경에서 LLM 스트리밍 시 NetworkConfig 미전달
   - 영향: 브라우저 환경에서 LLM 통신 시 프록시/SSL 설정 무시
   - 수정: `lib/llm/web-client.ts`의 `httpFetchStream` 호출 시 networkConfig 파라미터 추가

### Settings UI (4건)

3. **Settings UI 전반 버그 수정** (5cb4f59)
   - GitHub 릴리즈 확인: `components/settings/GeneralSettingsTab.tsx`
   - 임베딩 모델 조회: `components/rag/VectorDBSettings.tsx`
   - ComfyUI 연결 테스트: `components/settings/ComfyUISettingsTab.tsx`
   - ImageGen 연결 테스트: `components/settings/ImageGenSettingsTab.tsx`
   - 문제: 브라우저 환경에서 localStorage에서 networkConfig를 로드하지 않음
   - 영향: Settings UI의 각종 연결 테스트가 프록시 환경에서 실패
   - 수정: localStorage에서 networkConfig를 읽어서 HTTP 요청에 전달하도록 수정

### Electron IPC 핸들러 (2건)

4. **Electron IPC 핸들러 버그 수정** (ea97e6b)
   - URL fetch: `electron/ipc/handlers/file.ts`
   - 에러 리포팅: `electron/ipc/handlers/error-reporting.ts`
   - 문제: Main Process에서 NetworkConfig를 로드하지 않음
   - 영향: URL 콘텐츠 가져오기 및 GitHub Issue 자동 생성이 프록시 환경에서 실패
   - 수정: `getNetworkConfig()` 및 `createOctokitAgent()` 사용하여 NetworkConfig 적용

## 📊 적용 범위

이번 릴리즈로 **모든 HTTP 통신의 100%**가 NetworkConfig(프록시/SSL 설정)를 적용합니다:

### ✅ 완벽 적용된 기능

- **LLM 통신**: OpenAI, Anthropic, Ollama Provider (chat, stream, getModels, validate)
- **Vision 모델**: 이미지 분석 및 생성
- **Autocomplete**: 코드 자동완성
- **Settings UI**: 모든 연결 테스트 및 모델 조회
- **Embeddings**: OpenAI Embeddings API
- **이미지 생성**: NanoBanana, ComfyUI (HTTP + WebSocket)
- **GitHub 통신**: ConfigSync, OAuth, Issue 생성, 에러 리포팅
- **MCP Transport**: SSE 통신
- **LangGraph**: 모든 Agent 및 Graph 실행
- **기타**: URL 콘텐츠 fetch, Document Fetchers

## 🏗️ 아키텍처 개선

### 통합 HTTP 인프라

모든 네트워크 통신이 `lib/http` 모듈을 통해 중앙 집중화되었습니다:

```
모든 기능
  ↓
lib/http/fetch.ts (httpFetch)
  ↓
NetworkConfig 자동 적용
  - 프록시 설정 (Manual/System/None)
  - SSL 검증 (활성화/비활성화)
  - 커스텀 헤더
  - 타임아웃 및 재시도
```

### LangGraph 통합

LangGraph는 LangChain의 ChatOpenAI/ChatAnthropic를 직접 사용하지 않고, SEPilot의 통합 LLM 인프라를 사용하므로 별도의 HTTP agent 설정 없이도 자동으로 NetworkConfig가 적용됩니다.

## 🔍 검증

### 정적 분석

- ✅ eslint: 통과
- ✅ TypeScript type-check: 통과

### 코드베이스 전수 조사

- 모든 HTTP 통신 코드 검토 완료
- fetch(), EventSource, WebSocket, SDK 사용 코드 전부 확인
- NetworkConfig 적용률: 100%

## 📝 기술 부채 해소

이번 릴리즈로 다음 기술 부채가 완전히 해소되었습니다:

1. ❌ ~~브라우저 환경에서 NetworkConfig 미적용~~ → ✅ 100% 적용
2. ❌ ~~Settings UI에서 프록시 설정 무시~~ → ✅ 완전 해결
3. ❌ ~~LLM 통신 일부 경로에서 설정 누락~~ → ✅ 모든 경로 적용
4. ❌ ~~Electron IPC에서 불완전한 설정 전달~~ → ✅ 완벽한 통합

## 🎉 결론

v0.6.14는 **NetworkConfig 통합의 완성판**입니다. 이제 SEPilot Desktop은 어떤 네트워크 환경에서도 안정적으로 작동합니다:

- ✅ 기업 프록시 환경
- ✅ 자체 서명 인증서 환경
- ✅ 방화벽 및 보안 정책이 엄격한 환경
- ✅ 인터넷 제한이 있는 환경

모든 기능이 사용자의 네트워크 설정을 완벽하게 존중하며 동작합니다.

---

**전체 변경사항**: [v0.6.13...v0.6.14](https://github.com/jhl-labs/sepilot_desktop/compare/v0.6.13...v0.6.14)
